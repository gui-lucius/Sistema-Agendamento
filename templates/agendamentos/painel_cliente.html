{% extends 'base/base.html' %}
{% load static %}

{% block title %}Minha Conta - Barbearia RD{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/pages/login.css' %}">
{% endblock %}

{% block content %}
<div class="painel-container">
  <h2>ğŸ‘¤ Minha Conta</h2>

  <div class="user-info">
    <p><strong>Nome:</strong> {{ user.first_name }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>UsuÃ¡rio:</strong> {{ user.username }}</p>

    <a href="{% url 'agendamentos:editar_cliente' %}" class="btn-edit">âœï¸ Editar Perfil</a>
  </div>

  <hr />

  <div class="meus-agendamentos">
    <h2>ğŸ“… Meus Agendamentos</h2>
    {% if agendamentos %}
      <ul class="agenda-lista">
        {% for ag in agendamentos %}
          <li>
            <strong>{{ ag.servico }}</strong> com <strong>{{ ag.barbeiro.nome }}</strong><br />
            {{ ag.data_horario_reserva|date:"d/m/Y H:i" }} â€” <em>{{ ag.status|title }}</em>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="futuro">VocÃª ainda nÃ£o tem nenhum agendamento para essa semana.</p>
    {% endif %}
  </div>

  <hr />

  <div class="acoes">
    <h2>âš™ï¸ AÃ§Ãµes DisponÃ­veis</h2>
    <ul>
      <li><a href="{% url 'agendamentos:editar_cliente' %}">Editar dados (nome, telefone, foto)</a></li>
      <li><a href="{% url 'password_change' %}">Alterar senha</a></li>
      <li><span class="futuro">HistÃ³rico de cortes (em breve)</span></li>
      <li><span class="futuro">Sistema de fidelidade (em breve)</span></li>
    </ul>
  </div>

  <hr />

  <form method="POST" action="{% url 'agendamentos:logout' %}">
    {% csrf_token %}
    <button type="submit" class="btn-sair">ğŸšª Sair da Conta</button>
  </form>
</div>
{% endblock %}
